<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>75959439501f4e09a2c911d9aef15376</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="JXeqziXmxfAz">
<p><strong>PART 1</strong></p>
</div>
<div class="cell code" data-execution_count="85" data-colab="{&quot;height&quot;:206,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="RUQxR2oCwK9u" data-outputId="3e5b1948-2d4a-417f-9294-456f0bbdeb70">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">&#39;https://raw.githubusercontent.com/jennybc/gapminder/master/data-raw/08_gap-every-five-years.tsv&#39;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(url, sep <span class="op">=</span> <span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>data.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="85">

  <div id="df-4ac49269-3c33-4535-8e7a-311171f65241">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>continent</th>
      <th>year</th>
      <th>lifeExp</th>
      <th>pop</th>
      <th>gdpPercap</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>Asia</td>
      <td>1952</td>
      <td>28.801</td>
      <td>8425333</td>
      <td>779.445314</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>Asia</td>
      <td>1957</td>
      <td>30.332</td>
      <td>9240934</td>
      <td>820.853030</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Afghanistan</td>
      <td>Asia</td>
      <td>1962</td>
      <td>31.997</td>
      <td>10267083</td>
      <td>853.100710</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Afghanistan</td>
      <td>Asia</td>
      <td>1967</td>
      <td>34.020</td>
      <td>11537966</td>
      <td>836.197138</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Afghanistan</td>
      <td>Asia</td>
      <td>1972</td>
      <td>36.088</td>
      <td>13079460</td>
      <td>739.981106</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4ac49269-3c33-4535-8e7a-311171f65241')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4ac49269-3c33-4535-8e7a-311171f65241 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4ac49269-3c33-4535-8e7a-311171f65241');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="-pjJFLhFxkYY">
<p>EXERCISE 1</p>
</div>
<div class="cell code" data-execution_count="86" data-colab="{&quot;height&quot;:645,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="x0-1TPgExnHa" data-outputId="9125ccfb-539c-432a-d8f3-3dc6b26ecfb5">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expectancy Across Time&quot;</span>, size<span class="op">=</span><span class="dv">20</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>plt.plot(data[<span class="st">&#39;year&#39;</span>], data[<span class="st">&#39;lifeExp&#39;</span>],<span class="st">&#39;o&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="86">
<pre><code>[&lt;matplotlib.lines.Line2D at 0x7f5cea3b21d0&gt;]</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/7b8c3aee4b5f86f78d8eb8b71a1db503c3d282bf.png" /></p>
</div>
</div>
<div class="cell markdown" id="V_K1A9LFzNaC">
<p>QUESTION 1</p>
</div>
<div class="cell code" data-execution_count="87" data-colab="{&quot;height&quot;:641,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="BWW9-qFsyTmP" data-outputId="21845106-6097-4e51-e574-9ad812b8045b">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>wrangle_data <span class="op">=</span> pd.pivot_table(data, index <span class="op">=</span> <span class="st">&#39;country&#39;</span>, columns <span class="op">=</span> <span class="st">&#39;year&#39;</span>, values <span class="op">=</span> <span class="st">&#39;lifeExp&#39;</span> )</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> wrangle_data.columns.tolist()</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>life_exp_per_year <span class="op">=</span> wrangle_data.transpose().values.tolist()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>plt.gcf().set_size_inches((<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>ax.violinplot(life_exp_per_year,year,widths<span class="op">=</span><span class="dv">4</span>,showmeans<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expectancy Across Time&quot;</span>, size<span class="op">=</span><span class="dv">15</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="87">
<pre><code>Text(0, 0.5, &#39;Life Expecancy (in year)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/3755db3463094f1afb2a47e93776cc177804e199.png" /></p>
</div>
</div>
<div class="cell markdown" id="Nl6DLtsT6bjf">
<p>This is an increasing general trend for life expectancy across time, and this trend is linear.</p>
</div>
<div class="cell markdown" id="wznTE71xQ1N6">
<p>QUESTION 2</p>
<p>The distribution of life expectancy across countries for individual years is skewed, because we can see tails in some years. Moreover, it is not unimodal and not symmetric around its center because it is not a normal distribution.</p>
</div>
<div class="cell markdown" id="3KfG-GncRYSZ">
<p>QUESTION 3</p>
<p>I will reject the null hypothesis of no relationship, because I can intuitively saw there is a strong relationship between year and life expectancy</p>
</div>
<div class="cell markdown" id="-x18l3W4RviN">
<p>QUESTION 4</p>
<p>It should look like linear.</p>
</div>
<div class="cell markdown" id="EpohNNT5R_m5">
<p>QUESTION 5</p>
<p>The plot should look like a normal distribution, so it is symmetric and concentrates around 0.</p>
</div>
<div class="cell markdown" id="akqG_d7xSJFe">
<p>EXERCISE 2</p>
</div>
<div class="cell code" data-execution_count="88" data-colab="{&quot;height&quot;:645,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="lU_o9ZwUSLS8" data-outputId="aa9d1d1a-61e4-42ff-b521-39f3536ce3d3">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>sns.regplot(x <span class="op">=</span> <span class="st">&quot;year&quot;</span>, y <span class="op">=</span> <span class="st">&quot;lifeExp&quot;</span>, data <span class="op">=</span> data)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expectancy Across Time&quot;</span>, size<span class="op">=</span><span class="dv">20</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>plt.plot(data[<span class="st">&#39;year&#39;</span>], data[<span class="st">&#39;lifeExp&#39;</span>],<span class="st">&#39;o&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="88">
<pre><code>[&lt;matplotlib.lines.Line2D at 0x7f5cef491810&gt;]</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/60b9016e7969a9dc04f8b452b4f58fcada1cd53d.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="89" data-colab="{&quot;height&quot;:486,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="xiRyQsOdSy34" data-outputId="1bdcdbd4-46cd-4f42-8131-6bfdb4bcae37">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> ols(formula <span class="op">=</span> <span class="st">&quot;lifeExp ~ year&quot;</span>, data <span class="op">=</span> data).fit()</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>result.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="89">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>         <td>lifeExp</td>     <th>  R-squared:         </th> <td>   0.190</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.189</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   398.6</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 22 Apr 2022</td> <th>  Prob (F-statistic):</th> <td>7.55e-80</td> 
</tr>
<tr>
  <th>Time:</th>                 <td>21:46:33</td>     <th>  Log-Likelihood:    </th> <td> -6597.9</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>  1704</td>      <th>  AIC:               </th> <td>1.320e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  1702</td>      <th>  BIC:               </th> <td>1.321e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td> -585.6522</td> <td>   32.314</td> <td>  -18.124</td> <td> 0.000</td> <td> -649.031</td> <td> -522.273</td>
</tr>
<tr>
  <th>year</th>      <td>    0.3259</td> <td>    0.016</td> <td>   19.965</td> <td> 0.000</td> <td>    0.294</td> <td>    0.358</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>386.124</td> <th>  Durbin-Watson:     </th> <td>   0.197</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>  90.750</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.268</td>  <th>  Prob(JB):          </th> <td>1.97e-20</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.004</td>  <th>  Cond. No.          </th> <td>2.27e+05</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 2.27e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="AYqBYboiTSNS">
<p>The life expectancy increase by 0.32590383 years every year.</p>
</div>
<div class="cell markdown" id="xyO6NhheTuZB">
<p>QUESTION 7</p>
<p>We reject the null hypothesis because p-value is small.</p>
</div>
<div class="cell markdown" id="I3d3L_K0T57z">
<p>EXERCISE 3</p>
</div>
<div class="cell code" data-execution_count="90" data-colab="{&quot;height&quot;:641,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="nuVr2kwpT8Fm" data-outputId="749f58f9-0914-4444-b25c-4e7735bdccef">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> result.params.year</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> result.params.Intercept</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> data.copy()</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>new_data[<span class="st">&#39;residual&#39;</span>] <span class="op">=</span>  new_data[<span class="st">&#39;lifeExp&#39;</span>] <span class="op">-</span> (new_data[<span class="st">&#39;year&#39;</span>]<span class="op">*</span>k<span class="op">+</span>b)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>wrangle_data <span class="op">=</span> pd.pivot_table(new_data, index <span class="op">=</span> <span class="st">&#39;country&#39;</span>, columns <span class="op">=</span> <span class="st">&#39;year&#39;</span>, values <span class="op">=</span> <span class="st">&#39;residual&#39;</span> )</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> wrangle_data.columns.tolist()</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>life_exp_per_year <span class="op">=</span> wrangle_data.transpose().values.tolist()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>plt.gcf().set_size_inches((<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>ax.violinplot(life_exp_per_year,year,widths<span class="op">=</span><span class="dv">4</span>,showmeans<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expectancy Across Time&quot;</span>, size<span class="op">=</span><span class="dv">15</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="90">
<pre><code>Text(0, 0.5, &#39;Life Expecancy (in year)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/bdef7e413db2280bd59e91356243d9d8f41409fc.png" /></p>
</div>
</div>
<div class="cell markdown" id="7-Rx-fs-U-3g">
<p>QUESTION 8</p>
<p>Yes, the plot of Exercise 3 match your expectations.</p>
</div>
<div class="cell markdown" id="OA-J3XtfVOUJ">
<p>EXERCISE 4</p>
</div>
<div class="cell code" data-execution_count="91" data-colab="{&quot;height&quot;:645,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="11HbIfqwVQHX" data-outputId="cb7cc637-b1d6-461e-abdd-2916832169f4">
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x <span class="op">=</span> <span class="st">&#39;continent&#39;</span>, y <span class="op">=</span> <span class="st">&#39;residual&#39;</span>, data <span class="op">=</span> new_data)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expextancy Residuals in Different Continents&quot;</span>, size<span class="op">=</span><span class="dv">20</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Continent&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expectancy Residuals&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="91">
<pre><code>Text(0, 0.5, &#39;Life Expectancy Residuals&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/71ce9065c7e9e9cf59977ace3618d6da20e16ffa.png" /></p>
</div>
</div>
<div class="cell markdown" id="Jj21irYUVs62">
<p>QUESTION 9</p>
<p>Yes, there is a dependence between model residual and continent. Therefore, I would suggest that each continent should analysis based on the different box-plot shape.</p>
</div>
<div class="cell markdown" id="VN-8ur50Wkbo">
<p>EXERCISE 5</p>
</div>
<div class="cell code" data-execution_count="92" data-colab="{&quot;height&quot;:1000,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="QzpxoEQOWkD9" data-outputId="97d44152-2f24-4206-a146-01e048384c43">
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> continent <span class="kw">in</span> np.unique(data[<span class="st">&#39;continent&#39;</span>]):</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  p <span class="op">=</span> data.drop(data[continent <span class="op">!=</span> data[<span class="st">&#39;continent&#39;</span>]].index)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  sns.regplot(x <span class="op">=</span> <span class="st">&quot;year&quot;</span>, y <span class="op">=</span> <span class="st">&quot;lifeExp&quot;</span>, data <span class="op">=</span> p)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  plt.title(<span class="st">&quot;Life Expectancy Across Time in &quot;</span> <span class="op">+</span> continent, size<span class="op">=</span><span class="dv">20</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  plt.plot(p[<span class="st">&#39;year&#39;</span>], p[<span class="st">&#39;lifeExp&#39;</span>],<span class="st">&#39;o&#39;</span>)</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/c38ed3d21e7a3a1507002f72222e2ded223e67c6.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/570459d0cb0fc0de66f328f6b522761e5fc42338.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/4e019f15276d1e34fc67f1aa5b6a38c7f07c0b32.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/87c80b99c836ab1073c913dfe07859e0c07b4b69.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/5db979f137cccf6fc1371c2941fa0dd8ba9c8ebf.png" /></p>
</div>
</div>
<div class="cell markdown" id="i5zqJjYRX5E0">
<p>QUESTION 10</p>
<p>Yes, the regression model should include an interaction term for continent and year, because the data is different in every continent, and it is a factor to affect the life expactancy.</p>
</div>
<div class="cell markdown" id="0lyTa46fYcou">
<p>EXERCISE 6</p>
</div>
<div class="cell code" data-execution_count="93" data-colab="{&quot;height&quot;:657,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="L5tdBWGwYekZ" data-outputId="f83e20f9-4834-4958-e31d-a2fe121e6915">
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>new_result <span class="op">=</span> ols(formula <span class="op">=</span> <span class="st">&#39;lifeExp ~ year * continent&#39;</span>, data <span class="op">=</span> new_data).fit()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>new_result.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="93">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>         <td>lifeExp</td>     <th>  R-squared:         </th> <td>   0.693</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.691</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   424.3</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 22 Apr 2022</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>21:46:39</td>     <th>  Log-Likelihood:    </th> <td> -5771.9</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>  1704</td>      <th>  AIC:               </th> <td>1.156e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  1694</td>      <th>  BIC:               </th> <td>1.162e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     9</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
               <td></td>                 <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>                  <td> -524.2578</td> <td>   32.963</td> <td>  -15.904</td> <td> 0.000</td> <td> -588.911</td> <td> -459.605</td>
</tr>
<tr>
  <th>continent[T.Americas]</th>      <td> -138.8484</td> <td>   57.851</td> <td>   -2.400</td> <td> 0.016</td> <td> -252.315</td> <td>  -25.382</td>
</tr>
<tr>
  <th>continent[T.Asia]</th>          <td> -312.6330</td> <td>   52.904</td> <td>   -5.909</td> <td> 0.000</td> <td> -416.396</td> <td> -208.870</td>
</tr>
<tr>
  <th>continent[T.Europe]</th>        <td>  156.8469</td> <td>   54.498</td> <td>    2.878</td> <td> 0.004</td> <td>   49.957</td> <td>  263.737</td>
</tr>
<tr>
  <th>continent[T.Oceania]</th>       <td>  182.3499</td> <td>  171.283</td> <td>    1.065</td> <td> 0.287</td> <td> -153.599</td> <td>  518.298</td>
</tr>
<tr>
  <th>year</th>                       <td>    0.2895</td> <td>    0.017</td> <td>   17.387</td> <td> 0.000</td> <td>    0.257</td> <td>    0.322</td>
</tr>
<tr>
  <th>year:continent[T.Americas]</th> <td>    0.0781</td> <td>    0.029</td> <td>    2.673</td> <td> 0.008</td> <td>    0.021</td> <td>    0.135</td>
</tr>
<tr>
  <th>year:continent[T.Asia]</th>     <td>    0.1636</td> <td>    0.027</td> <td>    6.121</td> <td> 0.000</td> <td>    0.111</td> <td>    0.216</td>
</tr>
<tr>
  <th>year:continent[T.Europe]</th>   <td>   -0.0676</td> <td>    0.028</td> <td>   -2.455</td> <td> 0.014</td> <td>   -0.122</td> <td>   -0.014</td>
</tr>
<tr>
  <th>year:continent[T.Oceania]</th>  <td>   -0.0793</td> <td>    0.087</td> <td>   -0.916</td> <td> 0.360</td> <td>   -0.249</td> <td>    0.090</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>27.121</td> <th>  Durbin-Watson:     </th> <td>   0.242</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  44.106</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.121</td> <th>  Prob(JB):          </th> <td>2.65e-10</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.750</td> <th>  Cond. No.          </th> <td>2.09e+06</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 2.09e+06. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="iEzZtzkbY9EA">
<p>QUESTION 11</p>
<p>No, not all parameters in the model are significantly (in the p-value sense) different from zero, becuase Oceania's p-value is 0.287 at 0.05 significance level.</p>
</div>
<div class="cell markdown" id="yPM_v_yEaDIz">
<p>QUESTION 12</p>
</div>
<div class="cell code" data-execution_count="94" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="zZwSi_gJaNXJ" data-outputId="285d0bc8-579c-474f-a439-8890f8d5afcf">
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>new_result.params</span></code></pre></div>
<div class="output execute_result" data-execution_count="94">
<pre><code>Intercept                    -524.257846
continent[T.Americas]        -138.848447
continent[T.Asia]            -312.633049
continent[T.Europe]           156.846852
continent[T.Oceania]          182.349883
year                            0.289529
year:continent[T.Americas]      0.078122
year:continent[T.Asia]          0.163593
year:continent[T.Europe]       -0.067597
year:continent[T.Oceania]      -0.079257
dtype: float64</code></pre>
</div>
</div>
<div class="cell markdown" id="QUq0qpjeaSme">
<p>The increasing rate of Africa is in 0.289529, Americas is in 0.078122, Asia is 0.163593, Europe is in -0.067597, and Oceania is in -0.079257.</p>
</div>
<div class="cell markdown" id="iDkqUijfauZH">
<p>EXERCISE 7</p>
</div>
<div class="cell code" data-execution_count="95" data-colab="{&quot;height&quot;:641,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="CbqcjUd9awnR" data-outputId="261e2ed4-2cda-4b9d-d64b-8ef53d09977b">
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> data.copy()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>new_data[<span class="st">&#39;residual&#39;</span>] <span class="op">=</span>  new_result.resid.tolist()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>wrangle_data <span class="op">=</span> pd.pivot_table(new_data, index <span class="op">=</span> <span class="st">&#39;country&#39;</span>, columns <span class="op">=</span> <span class="st">&#39;year&#39;</span>, values <span class="op">=</span> <span class="st">&#39;residual&#39;</span> )</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> wrangle_data.columns.tolist()</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>life_exp_per_year <span class="op">=</span> wrangle_data.transpose().values.tolist()</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>plt.gcf().set_size_inches((<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>ax.violinplot(life_exp_per_year,year,widths<span class="op">=</span><span class="dv">4</span>,showmeans<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Life Expectancy Across Time&quot;</span>, size<span class="op">=</span><span class="dv">15</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Life Expecancy (in year)&quot;</span>, size<span class="op">=</span><span class="dv">10</span>, weight<span class="op">=</span><span class="st">&#39;bold&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="95">
<pre><code>Text(0, 0.5, &#39;Life Expecancy (in year)&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_4a66fdc80cbf4f048ab4f9246c84fcba/0a7d369d201be41a1b5c24e1fb7d780ef1288fbf.png" /></p>
</div>
</div>
<div class="cell markdown" id="shaOGh4Rb5MJ">
<p>It matches assumptions of the linear regression model, because it is symmetric and concentrates around 0.</p>
</div>
<div class="cell markdown" id="TgoQe2EVcQ9N">
<p><strong>PART 2</strong></p>
</div>
<div class="cell code" data-execution_count="114" id="FIAUepIjuPFW">
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> load_wine</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sklearn.model_selection <span class="im">as</span> model_selection</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sklearn.metrics <span class="im">as</span> metrics</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsClassifier</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> confusion_matrix</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> precision_score</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>wine <span class="op">=</span> load_wine()</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>dataFrame <span class="op">=</span> pd.DataFrame(wine.data, columns<span class="op">=</span>wine.feature_names)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>dep <span class="op">=</span> pd.Categorical.from_codes(wine.target, wine.target_names)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>ind_train, ind_test, dep_train, dep_test <span class="op">=</span> model_selection.train_test_split(dataFrame, dep, random_state<span class="op">=</span><span class="dv">42</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="115" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="s1ZimmNtu05m" data-outputId="a3e490ab-dc4e-4984-f392-74d99740ce65">
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># decision trees</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> DecisionTreeClassifier()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>dt.fit(ind_train, dep_train)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>predicted <span class="op">=</span> dt.predict(ind_test)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>actual <span class="op">=</span> np.array(dep_test)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>predictions <span class="op">=</span> np.array(predicted)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(confusion_matrix(actual, predictions))</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The scores for each class: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(precision_score(actual, predictions, average<span class="op">=</span><span class="va">None</span>)))</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The number of correctly classified samples: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(accuracy_score(actual, predictions, normalize<span class="op">=</span><span class="va">False</span>)))</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The fraction of correctly classified samples: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(accuracy_score(actual, predictions) <span class="op">*</span> <span class="dv">100</span>) <span class="op">+</span> <span class="st">&quot;%&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[[13  2  0]
 [ 0 18  0]
 [ 0  1 11]]
The scores for each class: [1.         0.85714286 1.        ]
The number of correctly classified samples: 42
The fraction of correctly classified samples: 93.33333333333333%
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="117" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="XWsRU7Mku5tf" data-outputId="7df1f6f5-3fb0-483b-b5eb-d2aa26c7c54b">
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># k-NN classification</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>knn <span class="op">=</span> KNeighborsClassifier(n_neighbors<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>knn.fit(ind_train, dep_train)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>predicted <span class="op">=</span> knn.predict(ind_test)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>actual <span class="op">=</span> np.array(dep_test)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>predictions <span class="op">=</span> np.array(predicted)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(confusion_matrix(actual, predictions))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The scores for each class: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(precision_score(actual, predictions, average<span class="op">=</span><span class="va">None</span>)))</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The number of correctly classified samples: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(accuracy_score(actual, predictions, normalize<span class="op">=</span><span class="va">False</span>)))</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The fraction of correctly classified samples: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(accuracy_score(actual, predictions) <span class="op">*</span> <span class="dv">100</span>) <span class="op">+</span> <span class="st">&quot;%&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[[13  0  2]
 [ 3 13  2]
 [ 1  2  9]]
The scores for each class: [0.76470588 0.86666667 0.69230769]
The number of correctly classified samples: 35
The fraction of correctly classified samples: 77.77777777777779%
</code></pre>
</div>
</div>
<div class="cell markdown" id="LY6MvTmwQ8kz">
<p>I choose load_wine to be the database, and there are three classes. I pick decision trees and k-nn classification. The accuracy of decision tree is 93.33%, and the accuracy of k-nn classification is 77.78%. The accuracy of decision tree is higher than the accuracy of k-nn classification, so we should choose decision tree.</p>
</div>
</body>
</html>
